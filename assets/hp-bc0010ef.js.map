{"version":3,"file":"hp-bc0010ef.js","sources":["../../src/hp.ts"],"sourcesContent":["/// <reference types=\"@workadventure/iframe-api-typings\" />\n\nimport { bootstrapExtra } from \"@workadventure/scripting-api-extra\";\n\nconsole.log('Script started successfully');\n\n// Waiting for the API to be ready\nWA.onInit().then(() => {\n    console.log('Scripting API ready');\n    console.log('Player tags: ',WA.player.tags)\n\n    // The line below bootstraps the Scripting API Extra library that adds a number of advanced properties/features to WorkAdventure\n    bootstrapExtra().then(() => {\n        console.log('Scripting API Extra ready');\n\n        listenDoor('hallDoor')\n        listenDoor('libraryDoor')\n        listenDoor('bankDoor')\n    }).catch(e => console.error(e));\n\n}).catch(e => console.error(e));\n\nfunction listenDoor(door: string) {\n    WA.room.area.onEnter(door).subscribe(() => {\n        if (WA.state.isRoofVisible === true) {\n            WA.state.isRoofVisible = false\n            WA.room.hideLayer('Roof/Roof3')\n            WA.room.hideLayer('Roof/Roof2')\n            WA.room.hideLayer('Roof/Roof1')\n            WA.room.hideLayer('Roof/Roof0')\n        } else {\n            WA.state.isRoofVisible = true\n            WA.room.showLayer('Roof/Roof3')\n            WA.room.showLayer('Roof/Roof2')\n            WA.room.showLayer('Roof/Roof1')\n            WA.room.showLayer('Roof/Roof0')\n        }\n    })\n}\n\nexport {};\n"],"names":["bootstrapExtra","listenDoor","e","door"],"mappings":"uCAIA,QAAQ,IAAI,6BAA6B,EAGzC,GAAG,OAAA,EAAS,KAAK,IAAM,CACnB,QAAQ,IAAI,qBAAqB,EACjC,QAAQ,IAAI,gBAAgB,GAAG,OAAO,IAAI,EAG3BA,EAAA,EAAE,KAAK,IAAM,CACxB,QAAQ,IAAI,2BAA2B,EAEvCC,EAAW,UAAU,EACrBA,EAAW,aAAa,EACxBA,EAAW,UAAU,CAAA,CACxB,EAAE,SAAW,QAAQ,MAAMC,CAAC,CAAC,CAElC,CAAC,EAAE,MAAMA,GAAK,QAAQ,MAAMA,CAAC,CAAC,EAE9B,SAASD,EAAWE,EAAc,CAC9B,GAAG,KAAK,KAAK,QAAQA,CAAI,EAAE,UAAU,IAAM,CACnC,GAAG,MAAM,gBAAkB,IAC3B,GAAG,MAAM,cAAgB,GACtB,GAAA,KAAK,UAAU,YAAY,EAC3B,GAAA,KAAK,UAAU,YAAY,EAC3B,GAAA,KAAK,UAAU,YAAY,EAC3B,GAAA,KAAK,UAAU,YAAY,IAE9B,GAAG,MAAM,cAAgB,GACtB,GAAA,KAAK,UAAU,YAAY,EAC3B,GAAA,KAAK,UAAU,YAAY,EAC3B,GAAA,KAAK,UAAU,YAAY,EAC3B,GAAA,KAAK,UAAU,YAAY,EAClC,CACH,CACL"}