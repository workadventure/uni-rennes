function n(e,r){if(!(e===void 0||e.length===0)){for(let o of e)if("name"in o&&o.name===r)return o}}function m(e,r,o){let i=[],t=n(o.layers,e);if(typeof t===void 0||t.type!="objectgroup")return i;for(let a of t.objects){let s=n(a.properties,r);s.value!=null&&s.type==="string"&&i.push({name:a.name,associatedlayers:s.value.split(",")})}return i}function p(e){for(let r of e)for(let o of r.associatedlayers)WA.room.area.onEnter(r.name).subscribe(()=>{WA.room.showLayer(o)}),WA.room.area.onLeave(r.name).subscribe(()=>{WA.room.hideLayer(o)})}function u(e,r){return r.x<e.x&&e.x<r.x+r.width&&r.y<e.y&&e.y<r.y+r.height}async function d(e){let r=await WA.player.getPosition();for(let o of e){let i=await WA.room.area.get(o.name);if(i!=null&&u(r,i)){for(let t of o.associatedlayers)WA.room.showLayer(t);return}}}function y(e,r,o,i,t){let a=t===void 0?e:t[t.length]==="/"?t+e:t+"/"+e;WA.room.onEnterLayer(a).subscribe(()=>{i=WA.ui.displayActionMessage({message:r,callback:()=>{WA.nav.goToRoom(o)}})}),WA.room.onLeaveLayer(a).subscribe(()=>{i&&i.remove()})}function v(e,r,o,i,t){let a=n(t.layers,e);if(!(a===void 0||a.type!="group"||a.layers.length===0))for(let s of a.layers){let l=n(s.properties,r),f=n(s.properties,o);l!=null&&l.type==="string"&&y(s.name,f!=null?f.value:"Go to room ?",l.value,i,e)}}function A(e,r){if("layers"in e)for(let o of e.layers)r.includes(o.name)===!1&&WA.room.hideLayer(o.name)}const c={getObjectbyName:n,getAreaObjects:m,setAreaDisplayBehaviour:p,isinArea:u,displayOnArrival:d,setExitPrompt:y,setAllExitPrompts:v,hideAll:A};export{c as e,m as g,u as i,v as s};
//# sourceMappingURL=extra-utilities-d8eb4fc0.js.map
