{"version":3,"file":"cirefe-7cb7f7ca.js","sources":["../../src/cirefe.ts"],"sourcesContent":["/// <reference types=\"@workadventure/iframe-api-typings\" />\nimport \"./main.js\";\n\nconsole.log(\"cirefe lancé\")\n\nWA.onInit().then(async() => {\n\n\n\n\nfunction isAllowed(tags: string[]): boolean {\n    for (const tag of tags) {\n        if (tag === \"admin\")\n            return true;\n        if (tag === \"speaker\")\n            return true;\n        if (tag === \"lecteur\")\n            return true; \n    }\n    return false; // Le joueur ne peut pas entrer en live si il n'est pas admin, speaker ou lecteur\n};\n\nWA.room.area.onEnter(\"scene\").subscribe(() => { // Accorder l'accès à la scene selon les tags\n    console.log(\"Tags: \", WA.player.tags);\n    if (isAllowed(WA.player.tags)) {\n        console.log(\"Ouverture pour un.e\", WA.player.tags);\n        WA.room.hideLayer(\"floor/collisions-scene\");\n    }\n});\nWA.room.area.onLeave(\"scene\").subscribe(() => { // Accorder l'accès à la scene selon les tags\n    WA.room.showLayer(\"floor/collisions-scene\");\n});\n});"],"names":["isAllowed","tags","tag"],"mappings":"sDAGA,QAAQ,IAAI,cAAc,EAE1B,GAAG,OAAA,EAAS,KAAK,SAAW,CAK5B,SAASA,EAAUC,EAAyB,CACxC,UAAWC,KAAOD,EAKd,GAJIC,IAAQ,SAERA,IAAQ,WAERA,IAAQ,UACD,MAAA,GAER,MAAA,EACX,CAEA,GAAG,KAAK,KAAK,QAAQ,OAAO,EAAE,UAAU,IAAM,CAC1C,QAAQ,IAAI,SAAU,GAAG,OAAO,IAAI,EAChCF,EAAU,GAAG,OAAO,IAAI,IACxB,QAAQ,IAAI,sBAAuB,GAAG,OAAO,IAAI,EAC9C,GAAA,KAAK,UAAU,wBAAwB,EAC9C,CACH,EACD,GAAG,KAAK,KAAK,QAAQ,OAAO,EAAE,UAAU,IAAM,CACvC,GAAA,KAAK,UAAU,wBAAwB,CAAA,CAC7C,CACD,CAAC"}