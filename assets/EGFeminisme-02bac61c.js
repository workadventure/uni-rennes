import"./main-a1a9ff9e.js";import"./init-6a6377f7.js";console.info("Script started successfully");WA.onInit().then(async()=>{WA.player.state.tutorialDone=!0;const l=new URL(WA.room.mapURL);WA.room.onEnterLayer("to-hall").subscribe(()=>{WA.ui.actionBar.removeButton("Tableau"),WA.ui.actionBar.removeButton("Briefing"),WA.ui.banner.closeBanner()});for(let e=1;e<6;e++)WA.player.state.saveVariable(`Enigme${e}`,0,{public:!0,persist:!0,ttl:60*35,scope:"room"});WA.players.onVariableChange("Enigme1").subscribe(e=>{WA.player.state.Enigme1=e.value}),WA.players.onVariableChange("Enigme2").subscribe(e=>{WA.player.state.Enigme2=e.value}),WA.players.onVariableChange("Enigme3").subscribe(e=>{WA.player.state.Enigme3=e.value}),WA.players.onVariableChange("Enigme4").subscribe(e=>{WA.player.state.Enigme4=e.value}),WA.players.onVariableChange("Enigme5").subscribe(e=>{WA.player.state.Enigme5=e.value});function i(e){WA.room.area.onEnter(e).subscribe(()=>{WA.ui.modal.openModal({allowFullScreen:!0,title:e,src:`${l.protocol}//${l.host}${l.protocol==="https:"?"/uni-rennes/":"/"}EGFeminisme/${e}.html`,allowApi:!0,allow:"microphone; camera",position:"center"},()=>{WA.ui.modal.closeModal()})}),WA.room.area.onLeave(e).subscribe(()=>{WA.ui.modal.closeModal()})}const n=["E1","E2","E3","E4","E4B","E5","E6"];for(let e of n)i(e);await WA.ui.website.open({url:"https://www.youtube.com/embed/aFZ4mV52XFE?si=9vaLPfWDeUxbN3Xf&autoplay=1;&amp;controls=0&amp;",visible:!0,allowApi:!1,allowPolicy:"autoplay",position:{vertical:"top",horizontal:"right"},size:{height:"20vh",width:"20vw"},margin:{right:"2vw",top:"5vh"}});let o=!0;WA.ui.actionBar.addButton({id:"Tableau",label:"Tableau de bord",callback:async()=>{o?WA.ui.modal.openModal({title:"Tableau de bord",src:`${l.protocol}//${l.host}${l.protocol==="https:"?"/uni-rennes/":"/"}EGFeminisme/Tableau_de_bord.html`,allowApi:!0,allow:"",position:"center",allowFullScreen:!0},()=>{WA.ui.modal.closeModal()}):WA.ui.modal.closeModal(),o=!o}});const s=["1,2,3 Retracez l'histoire de la lutte féministe grâce à quelques grandes figures. N’oubliez pas le symbole de la relique","Le symbole de Vénus peut livrer ses mystères en morceaux.","Des questions à répondre pour un coffret à 3 chiffres à ouvrir ! N’oubliez pas le symbole de la relique !","Une clé à trouver… La bibliothèque pourrait-elle vous aider ? Enigme n°4… N’oubliez pas le symbole et le titre de la relique !","Deux groupes vont vous donner un code de 5 lettres. La relique de l’énigme n° 5 est un peu particulière..."];let a=0;function u(e){return new Promise(r=>setTimeout(r,e))}function t(){for(let e=1;e<6;e++)if(WA.player.state.loadVariable(`Enigme${e}`)==1&&console.log("Player has variable",WA.player.state.loadVariable(`Enigme${e}`)),WA.player.state.loadVariable(`Enigme${e}`)!=1)return!1;return!0}for(t()?(console.log(768,480,260,416),WA.room.website.create({name:"Salle2",url:`${l.protocol}//${l.host}${l.protocol==="https:"?"/uni-rennes/":"/"}EGFeminisme/S2.html`,position:{x:768-28,y:480,width:416,height:260},visible:!0,allowApi:!1,origin:"map",scale:1}),WA.camera.set(768+416/2+32,480+260/2-6,416,260,!0,!0),WA.ui.banner.closeBanner()):console.error("WA API is not available.");!t();)await u(4e4),WA.ui.banner.openBanner({id:"banner-test",text:s[a%4],bgColor:"#272727",textColor:"#ffffff",closable:!1,timeToClose:30*60*1e3}),a++});
//# sourceMappingURL=EGFeminisme-02bac61c.js.map
